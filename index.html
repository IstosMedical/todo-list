<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ISTOS Todo List Grid</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f9f9f9;
        }

        .logo-container {
          display: flex;
          justify-content: center;
          align-items: center;
          margin-bottom: 2em;
        }
        
        .logo {
          max-width: 110px; /* Already reduced by 50% */
          height: auto;
        }
        .add-task-container {
            margin: 20px;
            display: flex;
            flex-direction: column;
            align-items: stretch;
        }
        .input-row {
            display: flex;
            flex-direction: row;
            align-items: center;
            width: 90%;
        }
        .input-row input[type="text"] {
            flex: 1;
            margin-right: 8px;
            padding: 6px;
            font-size: 16px;
            box-sizing: border-box;
        }
        .input-row button {
            padding: 6px 16px;
            font-size: 16px;
        }
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            width: 100%;
            gap: 10px;
        }
        .checkbox-group label {
            flex: 0 0 24%;
            margin-bottom: 8px;
        }
        .todo-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            max-width: 900px;
            margin: 30px auto;
            align-items: start;
        }
        .todo-box {
            border: 2px solid #1976d2;
            border-radius: 4px;
            padding: 8px;
            min-height: 120px;
            box-shadow: 2px 2px 8px rgba(0,0,0,0.07);
            display: flex;
            flex-direction: column;
        }
        .todo-box:nth-child(-n+4) {
            background: #f5cef0;
        }
        .todo-box:nth-child(n+5) {
            background: #E7D4FF;
        }
        .box-title {
            font-weight: bold;
        }
        .tasks {
            margin-top: 7px;
        }
        .task-item {
            background: #e3f2fd;
            margin-bottom: 6px;
            padding: 4px 8px;
            border-radius: 2px;
            font-size: 15px;
        }
        @media (max-width: 600px) {
            .todo-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .checkbox-group {
                gap: 10px;
            }
            .checkbox-group label {
                flex: 0 0 48%;
                margin-bottom: 8px;
            }
        }

    </style>
</head>

<body>
  <header class="header">
    <h2 class="title">Todo List</h2>
    <div class="logo-container">
      <img src="istos-logo.png" alt="ISTOS Logo" class="logo" />
    </div>
  </header>

  <section class="task-input-section">
    <div class="input-row">
      <input type="text" id="taskInput" placeholder="Enter new task" />
      <button onclick="addTask()">Add</button>
    </div>
    <hr class="divider" />
    <div class="checkbox-group">
      <label><input type="checkbox" id="paymentsCheckbox" /> üí≥ Payments to do</label>
      <label><input type="checkbox" id="paymentsCheckbox" /> üí≥ Payments to make</label>        
      <label><input type="checkbox" id="serviceCheckbox" /> üõ†Ô∏è Service</label>
      <label><input type="checkbox" id="ordersCheckbox" /> üì¶ Leads</label>      
      <label><input type="checkbox" id="officeCheckbox" /> üè¢ Office</label>
      <label><input type="checkbox" id="reminderCheckbox" /> üîî Personal</label>      
    </div>
  </section>

  <section class="todo-grid">
    <div class="todo-box" id="urgentBox">
      <div class="box-title">‚è∞ Urgent</div>
      <div class="tasks"></div>
    </div>
    <div class="todo-box" id="priorityBox">
      <div class="box-title">‚ö° Priority</div>
      <div class="tasks"></div>
    </div>
    <div class="todo-box" id="serviceBox">
      <div class="box-title">üõ†Ô∏è Service</div>
      <div class="tasks"></div>
    </div>
    <div class="todo-box" id="ordersBox">
      <div class="box-title">üì¶ Orders</div>
      <div class="tasks"></div>
    </div>
    <div class="todo-box" id="paymentsBox">
      <div class="box-title">üí≥ Payments</div>
      <div class="tasks"></div>
    </div>
    <div class="todo-box" id="officeBox">
      <div class="box-title">üè¢ Office</div>
      <div class="tasks"></div>
    </div>
    <div class="todo-box" id="reminderBox">
      <div class="box-title">üîî Reminder</div>
      <div class="tasks"></div>
    </div>
    <div class="todo-box" id="othersBox">
      <div class="box-title">üóÇ others</div>
      <div class="tasks"></div>
    </div>
  </section>
</body>


<script>
const categoryBoxes = [
  'urgent', 'priority', 'service', 'orders',
  'payments', 'office', 'reminder'
];

// Load tasks from localStorage on page load
window.onload = () => {
  const savedTasks = JSON.parse(localStorage.getItem("istosTasks") || "[]");
  savedTasks.forEach(({ text, category }) => {
    const container = document.querySelector(`#${category}Box .tasks`);
    const taskElement = createTaskElement(text, category);
    container.appendChild(taskElement);
  });
};

function addTask() {
  const taskText = getTaskInput();
  if (!taskText) return;

  const assignedBox = getSelectedCategory();
  const tasksContainer = document.querySelector(`#${assignedBox}Box .tasks`);
  const taskElement = createTaskElement(taskText, assignedBox);

  tasksContainer.appendChild(taskElement);
  saveTask(taskText, assignedBox);
  clearTaskInput();
  clearCategorySelection();
}

function getTaskInput() {
  return document.getElementById('taskInput').value.trim();
}

function clearTaskInput() {
  document.getElementById('taskInput').value = '';
}

function getSelectedCategory() {
  for (const box of categoryBoxes) {
    if (document.getElementById(`${box}Checkbox`).checked) {
      return box;
    }
  }
  return document.getElementById('OthersCheckbox').checked ? 'others' : 'others';
}

function clearCategorySelection() {
  categoryBoxes.forEach(box => {
    document.getElementById(`${box}Checkbox`).checked = false;
  });
  document.getElementById('OthersCheckbox').checked = false;
}

function createTaskElement(text, category) {
  const taskDiv = document.createElement('div');
  taskDiv.className = 'task-item';

  const taskContent = document.createElement('span');
  taskContent.textContent = text;

  const removeBtn = document.createElement('span');
  removeBtn.textContent = '‚úï';
  removeBtn.className = 'remove-btn';
  removeBtn.title = 'Remove task';
  removeBtn.style.cursor = 'pointer';
  removeBtn.style.marginLeft = '12px';
  removeBtn.onclick = () => {
    taskDiv.remove();
    deleteTask(text, category);
  };

  taskDiv.appendChild(taskContent);
  taskDiv.appendChild(removeBtn);

  return taskDiv;
}

function saveTask(text, category) {
  const tasks = JSON.parse(localStorage.getItem("istosTasks") || "[]");
  tasks.push({ text, category });
  localStorage.setItem("istosTasks", JSON.stringify(tasks));
}

function deleteTask(text, category) {
  let tasks = JSON.parse(localStorage.getItem("istosTasks") || "[]");
  tasks = tasks.filter(task => !(task.text === text && task.category === category));
  localStorage.setItem("istosTasks", JSON.stringify(tasks));
}
</script>

</body>
</html>
